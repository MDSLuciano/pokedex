<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="estilos.css">
    <title>Pokédex</title>
</head>

<body>
    <div id="cabecalho">
        <h1>Pokédex</h1>
    </div>

    <div id="principal">
        <div id="lista-pokemons" class="container">
            <!-- <div class="pokemon">
                <img src="imagens/001.png" alt="Pokémon Bulbassauro" />
                <p class="numero">N. 001</p>
                <p class="nome">Bulbassauro</p>
                <div class="lista-tipos">
                    <div class="tipo planta">Planta</div>
                    <div class="tipo venenoso">Venenoso</div>
                </div>
            </div>
            <div class="pokemon">
                <img src="imagens/002.png" alt="Pokémon Ivysaur" />
                <p class="numero">N. 002</p>
                <p class="nome">Ivysaur</p>
                <div class="lista-tipos">
                    <div class="tipo planta">Planta</div>
                    <div class="tipo venenoso">Venenoso</div>
                </div>
            </div>
            <div class="pokemon">
                <img src="imagens/003.png" alt="Pokémon Venusaur" />
                <p class="numero">N. 003</p>
                <p class="nome">Venusaur</p>
                <div class="lista-tipos">
                    <div class="tipo planta">Planta</div>
                    <div class="tipo venenoso">Venenoso</div>
                </div>
            </div>
            <div class="pokemon">
                <img src="imagens/004.png" alt="Pokémon Charmander" />
                <p class="numero">N. 004</p>
                <p class="nome">Charmander</p>
                <div class="lista-tipos">
                    <div class="tipo fogo">Fogo</div>
                </div>
            </div>
            <div class="pokemon">
                <img src="imagens/005.png" alt="Pokémon Charmelon" />
                <p class="numero">N. 005</p>
                <p class="nome">Charmelon</p>
                <div class="lista-tipos">
                    <div class="tipo fogo">Fogo</div>
                </div>
            </div> -->
        </div>
    </div>

    <script>
        async function buscaPokemon(id){
            let resposta = await fetch("https://pokeapi.co/api/v2/pokemon/" + id)
            let dadosPokemon = await resposta.json()

            return dadosPokemon
        }

        async function criaHTMLPokemon(idPokemon){
            let dadosPokemon = await buscaPokemon(idPokemon)
            console.log(dadosPokemon)

            let divPokemon = document.createElement("div")
            divPokemon.classList.add("pokemon")

            let imgPokemon = document.createElement("img")
            imgPokemon.setAttribute("src", dadosPokemon.sprites.other["official-artwork"].front_default)
            imgPokemon.setAttribute("alt", "Pokémon " + dadosPokemon.name)

            divPokemon.appendChild(imgPokemon)

            let pNumeroPokemon = document.createElement("p")
            pNumeroPokemon.classList.add("numero")
            pNumeroPokemon.innerText = "N. " + dadosPokemon.id

            divPokemon.appendChild(pNumeroPokemon)

            let pNomePokemon = document.createElement("p")
            pNomePokemon.classList.add("nome")
            pNomePokemon.innerText = aumentarPrimeiraLetra(dadosPokemon.name)

            divPokemon.appendChild(pNomePokemon)

            let divListaPokemons = document.getElementById("lista-pokemons")
            divListaPokemons.appendChild(divPokemon)

            let divListaTipo = document.createElement("div")
            divListaTipo.classList.add("lista-tipos")
            divPokemon.appendChild(divListaTipo)

            let tiposPokemon = dadosPokemon.types
            
            for(let i = 0;i < tiposPokemon.length;i++){
                let tipoPokemon = tiposPokemon[i].type.name

                let divTipoPokemon = document.createElement("div")
                divTipoPokemon.classList.add("tipo")
                tipoPokemon = traduzirTipo(tipoPokemon)

                divTipoPokemon.classList.add(tipoPokemon)
                tipoPokemon = corrigirCrase(tipoPokemon)
                
                divTipoPokemon.innerHTML = aumentarPrimeiraLetra(tipoPokemon)

                divListaTipo.appendChild(divTipoPokemon)
            }

        }

        function traduzirTipo(tipo) {
            if(tipo === "grass"){
                return "planta"
            }else if(tipo === "poison"){
                return "venenoso"
            }else if(tipo === "fire"){
                return "fogo"
            }else if(tipo === "flying"){
                return "voador"
            }else if(tipo === "water"){
                return "agua"
            }else if(tipo === "bug"){
                return "inseto"
            }else if(tipo === "electric"){
                return "eletrico"
            }else if(tipo === "ground"){
                return "terrestre"
            }else if(tipo === "fairy"){
                return "fada"
            }else{
                return tipo
            }
        }

        function corrigirCrase(tipo) {
            if (tipo === "agua") {
                return "água"
            }else if(tipo === "eletrico"){
                return "elétrico"
            }
            else{
                return tipo
            }
        }

        function aumentarPrimeiraLetra(palavra) {
            return palavra[0].toUpperCase() + palavra.substr(1)
        }

        async function exibePokemons(){
            for (let i = 1; i <= 50; i++){
                await criaHTMLPokemon(i)
            }
        }
        

        exibePokemons()
    </script>





</body>

</html>